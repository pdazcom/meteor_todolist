//- client/components/users.jade
template( name='users' )
    h1 Users
    .row
        //- это данные, которые передает роутер шаблону
        +each users
            .col-xs-6.col-md-4.col-lg-3
                //- рендерим карточку пользователя
                //- в блоке each контекст меняется, поэтому мы
                //- можем не передавать в шаблон никаких параметров
                +userCard
    //- кнопка загрузки следующей страницы
    +nextPageButton
//- client/components/user_avatar/user_avatar.jade
//- унифицируем шаблон аватара, возможно понадобится добавить логику
template(name='userAvatar')
    img(src="{{user.getAvatar size}}", alt=user.getUsername, class="{{class}}")
//- client/components/user_card.jade
//- в этом шаблоне используются данные пользователя
//- а также функции описанные в модели ранее
template(name='userCard')
    .panel.panel-default
        .panel-body
            .pull-left
                +userAvatar user=this size=80
            .user-card-info-block
                ul.fa-ul
                    //- сервис и имя пользователя
                    li
                        if isFromGithub
                            i.fa.fa-li.fa-github
                        else if isFromGoogle
                            i.fa.fa-li.fa-google
                        else
                            i.fa.fa-li
                        b= getName
                    //- идентификатор либо логин
                    li
                        i.fa.fa-li @
                        //- ссылка на пользователя
                        a(href="{{ pathFor route='users_show' data=urlData }}")= getUsername
                    //- адрес почты, если указан
                    if getPublicEmail
                        li
                            i.fa.fa-li.fa-envelope
                        = getPublicEmail